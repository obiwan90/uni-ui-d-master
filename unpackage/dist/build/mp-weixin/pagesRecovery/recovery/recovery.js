"use strict";const e=require("../../common/vendor.js"),a=require("../../api/search/search.js"),o=require("../../utils/common.js");require("../../stores/tokenStore.js"),require("../../stores/userInfoStore.js");const r=require("../api/api.js");if(!Array){(e.resolveComponent("custom-header")+e.resolveComponent("uv-tabs")+e.resolveComponent("z-paging"))()}Math||((()=>"../../components/custom-header/custom-header.js")+i+(()=>"../../uni_modules/uv-tabs/components/uv-tabs/uv-tabs.js")+(()=>"../../uni_modules/z-paging/components/z-paging/z-paging.js"))();const i=()=>"../../uni_modules/qiao-select/components/qiao-select/qiaoSelect.js",n={__name:"recovery",setup(i){const n=e.ref([]),l=e.ref("xhname"),s=e.ref("xhname"),t=a=>{console.log(a),a&&e.index.navigateTo({url:"/pagesRecoveryDetail/recoveryDetail/recoveryDetail?id="+a.xhid+"&ppid="+a.ppid+"&name="+a.xhname+"&flid="+a.flid})},u=async a=>{if(a.length>0){console.log("inputText",a),e.index.showLoading({title:"加载中",mask:!0});const o=await d(a);console.log("云端搜索 res:",o),o&&(console.log("=================================="),n.value=[],n.value=[...o],console.log("orgArray",n.value),console.log("==================================")),e.index.hideLoading()}},d=async e=>{const o={word:e},r=await a.apiSearchModel(o);"200"===r.code?n.value=r.lists:n.value=[],console.log("apiSearchModelData res:",r)},c=e.ref("xlname"),v=e.ref(null),p=e.ref([]),g=e.ref(0),f=e.ref(0),m=e.ref(-1);o.useShare({title:"自定义分享标题",path:getCurrentPages().pop().route,desc:"自定义分享描述"});const x=e.ref([]),b=async(e,a)=>{console.log("pageNo:",e),console.log("pageSize:",a),S.value.start=e-1;const o=await B(S);console.log("data:",o);let r=[];if(o)if(1===e)r=o;else{r=[...x.value.reduce(((e,a)=>[...e,...a.products]),[]),...o]}else r=[];v.value.complete(o);const i={};r.forEach((e=>{const a=e.xlname.trim();i[a]||(i[a]=[]),i[a].push(e)})),x.value=Object.entries(i).map((([e,a])=>({name:e,products:a}))),console.log(x.value)},h=e=>{console.log("分类标签切换触发:",e.index),void 0!==e.index?(f.value=e.index,S.value.classid=y.value[f.value].id,S.value.brandid="",S.value.seriesid="",g.value=0,m.value=-1,C()):console.error("标签索引错误或标签数据不存在")},A=e=>{console.log("系列切换了标签:",e.index),void 0!==e.index?(m.value=e.index,S.value.seriesid=q.value[m.value].id,S.value.brandid=j.value[g.value].id,C()):console.error("标签索引错误")},y=e.ref([]),j=e.ref([]),q=e.ref([]);e.ref([]);const S=e.ref({classid:"1",brandid:"1",seriesid:"",start:"0"}),B=async e=>{const a={classid:e.value.classid,brandid:e.value.brandid,seriesid:e.value.seriesid,start:e.value.start},o=await r.apiRecycleClassify(a);if("200"===o.code){y.value=o.classlist,j.value=o.brandlist,q.value=o.serieslist;return o.marquelist.sort(((e,a)=>parseInt(e.xlid)-parseInt(a.xlid)))}return!1},C=()=>{e.nextTick$1((()=>{v.value&&v.value.reload(!0)}))};return(a,o)=>({a:e.o(t),b:e.o(u),c:e.p({keyId:1,dataList:e.unref(n),searchKey:e.unref(l),showField:e.unref(s),phText:"请输入品牌型号",showBorder:!1,disabled:!1}),d:e.o(h),e:e.p({list:e.unref(y),lineColor:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAXCAYAAACmnHcKAAAAAXNSR0IArs4c6QAABHFJREFUWEfdV19oW2UU/51zb5Kma9euTVL0SZn/KCLDJulwLVTaZPoyEKwUZDKn+DBEmD4Mp4LIFNmLg8FQ2PRFHFLUaVUw6VwRNmnS+ocOdQiiIErbxNm1a5t7c78jX7bUNDa5Sdk68L6EfN853/n9zvl959xL+B89VOQiABEg2YHu7YpVDwR+Ap0PJFMf3Wi+pdjyLL0s0qCIpjoSqVOl2Ipk9K9Mx6NvMvAEAANXyFkCZM1Gq3PLqe/+vkGkKmMTyRiiOttGJ+c0tpXKzMYj7zYaxqOLjlqFmYmglPo2kEyHCVi9uUHsXLBNBJPpyAqZzM5wVITPAGishE8gz4cS6dc3CP9KmOlYeAcTjwJoWCs2AXkRPBZMpk4WKpOJR54R0JHSSpU7imCpyaY7GsfGf98oQtLV5cm0GSeYsLuSJLRyIDjUnhh/qUBmOh7Zx8BRgLgSUC8TckqdDWbV/TQ5aW8EoWy8+2GDMWwrqRiONRfBq4FE6sUrlXkgEhFFWmabqoH0MWtCny5YjYO3jo0tX09CmVj0IYF8QERUmUoBQU4Eu0PJ1PC/DSAW+dhg3uVIdddCa4G8F8iqPderQjPx8F6AjhHI55owwW/BZOqWVd3sTB/Mu73RDBO1KBdCm00D83nnbcehgx2nx6ddA9Zo8EdfV8Bj0uM+0zxsKQWXisBvMBYtZyh0Ov3+KjL6z0z/vb0e0/OVbg9uz1XJ/Qil9gVHJ8bc7N32M7HIHkW038d0j1XljhTP8RDBEnUhlEjfVVxbkZlekMFBY2bu12Mm6Kl6BooIThiX6Nn28fFLbqDL92f7w0Ni0CGTeKubxMt8HQNqW1ti4vyaZPTixb5trXmv9xMvU28tGdI+uko6K0uOOg5SHxqGMdXWND9Dwz9YxUC6zWZbvCExnJvA6BAlvQA92WQa7UtKwU3a/xkVSvaGRtPvlK6vqkxxY3bXjmbk7M8biHuWVe018jDB1ukl+YXAWSGxoJDTDV9EmgFqAxD0MrVoIeeVuN6LMhLS6jFpzsq/EEimXisnuCYZbfTXQFeLQ8Y5InS636B6xbU+ey8RbCUHAsnU4bVOqEim0BBi3bcTyYiP+c5cHRVaH9TKXnqSO5AciXo6mJw8XsmyKhntNN3f3WGwHN1k8uBC2UvotQa91nn6zcNyxCZWPYEvJlLVYrqSWblHscgrRHQAgHcjZFcYzgJbgCQtzg0Fz16Yd0tezWQKshuIPMKM5zzM0byg7g7kBkbv6yaiQVlKvgTkSDCRHqnFT9vURabYGATmgEPqLb9htNfT7aqB8jJDS2rBdj4jyBvtreY5Gv56qVYi6yJTenhmZ/igKN4PKnwH+elqctxkWJJBLaNlQBYgcjKwOP8y1SCndTcAt8zoYXgxYGxXCvcBEhWirSSyRYhaGdjcbBqFWaLHz2VH5QH8KZCfCPheKZnyML4pneJu8a5JA6glyM8P3uYLLDX5l/3kMRWbLGzaINPHLPp7wWORbfuWLTH58s0jk4u1nFmPzT/Acc8nAVrxrAAAAABJRU5ErkJggg==') 100% 100%",lineWidth:"25",lineHeight:"8",fontSize:32,activeStyle:{color:"#303133",fontWeight:"bold"},current:e.unref(f)}),f:e.f(e.unref(j),((a,o,r)=>({a:e.t(a.name),b:o,c:o===e.unref(g)?1:"",d:e.o((e=>(e=>{g.value=e,S.value.brandid=j.value[e].id,S.value.seriesid="",m.value=-1,C()})(o)),o)}))),g:"1170rpx",h:e.o(A),i:e.p({list:e.unref(q),lineWidth:"0",lineHeight:"0",fontSize:24,keyName:e.unref(c),activeStyle:{padding:"0 10rpx",fontSize:"28rpx",backgroundColor:"#FFEEEC",color:"#ED5446",fontWeight:"bold",backGround:"#FFEEEC",borderRadius:"4rpx 4rpx 4rpx 4rpx"},inactiveStyle:{padding:"0 10rpx",fontSize:"24rpx",backgroundColor:"#F2F3F6",borderRadius:"4rpx 4rpx 4rpx 4rpx",opacity:.6},current:e.unref(m)}),j:e.f(e.unref(x),((a,o,r)=>({a:e.t(a.name),b:e.f(a.products,((a,o,r)=>({a:e.t(a.xhname),b:o,c:e.o((o=>{return r="/pagesRecoveryDetail/recoveryDetail/recoveryDetail?id="+a.xhid+"&ppid="+e.unref(S).brandid+"&name="+a.xhname+"&flid="+e.unref(y)[e.unref(f)].id,void e.index.navigateTo({url:r});var r}),o)}))),c:o}))),k:e.sr(v,"42ff6b9a-4",{k:"paging"}),l:e.o(b),m:e.o((a=>e.isRef(p)?p.value=a:null)),n:e.p({"show-refresher-update-time":!0,"default-page-size":20,fixed:!1,modelValue:e.unref(p)})})}},l=e._export_sfc(n,[["__scopeId","data-v-42ff6b9a"]]);n.__runtimeHooks=6,wx.createPage(l);
