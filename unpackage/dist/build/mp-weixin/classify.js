"use strict";const e=require("./common/vendor.js"),o=require("./api/search/search.js"),a=require("./utils/common.js"),i=require("./api/classitify/classtify.js"),r=require("./stores/tabStore.js");if(!Array){(e.resolveComponent("custom-header")+e.resolveComponent("uv-tabs")+e.resolveComponent("van-image")+e.resolveComponent("z-paging")+e.resolveComponent("custom-shop-tabbar"))()}Math||((()=>"./components/custom-header/custom-header.js")+s+(()=>"./uni_modules/uv-tabs/components/uv-tabs/uv-tabs.js")+(()=>"./uni_modules/z-paging/components/z-paging/z-paging.js")+(()=>"./components/custom-shop-tabbar/custom-shop-tabbar.js"))();const s=()=>"./uni_modules/qiao-select/components/qiao-select/qiaoSelect.js",n={__name:"classify",setup(s){const n=e.ref([]),t=e.ref("xhname"),l=e.ref("xhname"),d=o=>{console.log(o),o&&e.index.navigateTo({url:"/pagesProduct/product/product?title="+o.xhname+"&id="+o.xhid})},u=async o=>{if(o.length>0){console.log("inputText",o),e.index.showLoading({title:"加载中",mask:!0});const a=await c(o);console.log("云端搜索 res:",a),a&&(console.log("=================================="),n.value=[],n.value=[...a],console.log("orgArray",n.value),console.log("==================================")),e.index.hideLoading()}},c=async e=>{const a={word:e},i=await o.apiSearchModel(a);"200"===i.code?n.value=i.lists:n.value=[],console.log("apiSearchModelData res:",i)},p=e.ref("xlname");e.ref("");const g=e.ref(-1);e.ref([]);const v=e.ref(0),m=e.ref(0),x=e.ref([]),f=e.ref([]),b=e.ref([]);e.ref([]);const h=e.ref(null),A=e.ref([]),y=e.ref({classid:"1",brandid:"1",seriesid:"",pageNo:"",pageSize:"",start:""}),S=async(e,o)=>{console.log("pageNo:",e),console.log("pageSize:",o),y.value.start=e-1;const a=await C(y);console.log("data:",a),h.value.complete(a)},C=async e=>{const o={classid:e.value.classid,brandid:e.value.brandid,seriesid:e.value.seriesid,start:e.value.start},a=await i.apiGetClasstify(o);return"200"===a.code&&(x.value=a.classlist,f.value=a.brandlist,b.value=a.serieslist,a.marquelist)},j=e=>{console.log("分类标签切换触发:",e.index),void 0!==e.index?(m.value=e.index,y.value.classid=x.value[m.value].id,y.value.brandid="",y.value.seriesid="",v.value=0,m.value=0,g.value=-1,B()):console.error("标签索引错误或标签数据不存在")},q=async e=>{console.log("系列切换了标签:",e.index),void 0!==e.index?(g.value=e.index,y.value.seriesid=b.value[g.value].id,y.value.brandid=f.value[v.value].id,B()):console.error("标签索引错误")};a.useShare({title:"自定义分享标题",path:getCurrentPages().pop().route,desc:"自定义分享描述"});const B=()=>{e.nextTick$1((()=>{h.value&&h.value.reload(!0)}))};return e.onLoad((e=>{})),e.onShow((()=>{r.useTabStore().setCurrentTabIndex(0)})),(o,a)=>({a:e.o(d),b:e.o(u),c:e.p({keyId:1,dataList:e.unref(n),searchKey:e.unref(t),showField:e.unref(l),phText:"请输入品牌型号",showBorder:!1,disabled:!1}),d:e.o(j),e:e.p({list:e.unref(x),lineColor:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAXCAYAAACmnHcKAAAAAXNSR0IArs4c6QAABHFJREFUWEfdV19oW2UU/51zb5Kma9euTVL0SZn/KCLDJulwLVTaZPoyEKwUZDKn+DBEmD4Mp4LIFNmLg8FQ2PRFHFLUaVUw6VwRNmnS+ocOdQiiIErbxNm1a5t7c78jX7bUNDa5Sdk68L6EfN853/n9zvl959xL+B89VOQiABEg2YHu7YpVDwR+Ap0PJFMf3Wi+pdjyLL0s0qCIpjoSqVOl2Ipk9K9Mx6NvMvAEAANXyFkCZM1Gq3PLqe/+vkGkKmMTyRiiOttGJ+c0tpXKzMYj7zYaxqOLjlqFmYmglPo2kEyHCVi9uUHsXLBNBJPpyAqZzM5wVITPAGishE8gz4cS6dc3CP9KmOlYeAcTjwJoWCs2AXkRPBZMpk4WKpOJR54R0JHSSpU7imCpyaY7GsfGf98oQtLV5cm0GSeYsLuSJLRyIDjUnhh/qUBmOh7Zx8BRgLgSUC8TckqdDWbV/TQ5aW8EoWy8+2GDMWwrqRiONRfBq4FE6sUrlXkgEhFFWmabqoH0MWtCny5YjYO3jo0tX09CmVj0IYF8QERUmUoBQU4Eu0PJ1PC/DSAW+dhg3uVIdddCa4G8F8iqPderQjPx8F6AjhHI55owwW/BZOqWVd3sTB/Mu73RDBO1KBdCm00D83nnbcehgx2nx6ddA9Zo8EdfV8Bj0uM+0zxsKQWXisBvMBYtZyh0Ov3+KjL6z0z/vb0e0/OVbg9uz1XJ/Qil9gVHJ8bc7N32M7HIHkW038d0j1XljhTP8RDBEnUhlEjfVVxbkZlekMFBY2bu12Mm6Kl6BooIThiX6Nn28fFLbqDL92f7w0Ni0CGTeKubxMt8HQNqW1ti4vyaZPTixb5trXmv9xMvU28tGdI+uko6K0uOOg5SHxqGMdXWND9Dwz9YxUC6zWZbvCExnJvA6BAlvQA92WQa7UtKwU3a/xkVSvaGRtPvlK6vqkxxY3bXjmbk7M8biHuWVe018jDB1ukl+YXAWSGxoJDTDV9EmgFqAxD0MrVoIeeVuN6LMhLS6jFpzsq/EEimXisnuCYZbfTXQFeLQ8Y5InS636B6xbU+ey8RbCUHAsnU4bVOqEim0BBi3bcTyYiP+c5cHRVaH9TKXnqSO5AciXo6mJw8XsmyKhntNN3f3WGwHN1k8uBC2UvotQa91nn6zcNyxCZWPYEvJlLVYrqSWblHscgrRHQAgHcjZFcYzgJbgCQtzg0Fz16Yd0tezWQKshuIPMKM5zzM0byg7g7kBkbv6yaiQVlKvgTkSDCRHqnFT9vURabYGATmgEPqLb9htNfT7aqB8jJDS2rBdj4jyBvtreY5Gv56qVYi6yJTenhmZ/igKN4PKnwH+elqctxkWJJBLaNlQBYgcjKwOP8y1SCndTcAt8zoYXgxYGxXCvcBEhWirSSyRYhaGdjcbBqFWaLHz2VH5QH8KZCfCPheKZnyML4pneJu8a5JA6glyM8P3uYLLDX5l/3kMRWbLGzaINPHLPp7wWORbfuWLTH58s0jk4u1nFmPzT/Acc8nAVrxrAAAAABJRU5ErkJggg==') 100% 100%",lineWidth:"25",lineHeight:"8",fontSize:32,inactiveStyle:{color:"#1F1F1F",opacity:.6},activeStyle:{color:"#303133",fontWeight:"bold"},current:e.unref(m)}),f:e.f(e.unref(f),((o,a,i)=>({a:e.t(o.name),b:o.id,c:a===e.unref(v)?1:"",d:e.o((e=>(e=>{v.value=e,y.value.brandid=f.value[e].id,y.value.seriesid="",g.value=-1,B()})(a)),o.id)}))),g:"1065rpx",h:e.o(q),i:e.p({list:e.unref(b),lineWidth:"0",lineHeight:"0",fontSize:24,keyName:e.unref(p),activeStyle:{padding:"0 10rpx",fontSize:"28rpx",backgroundColor:"#FFEEEC",color:"#ED5446",fontWeight:"bold",backGround:"#FFEEEC",borderRadius:"4rpx 4rpx 4rpx 4rpx"},inactiveStyle:{padding:"0 10rpx",fontSize:"24rpx",backgroundColor:"#F2F3F6",borderRadius:"4rpx 4rpx 4rpx 4rpx",opacity:.6},current:e.unref(g)}),j:e.f(e.unref(A),((o,a,i)=>({a:"3e2e93e5-5-"+i+",3e2e93e5-3",b:e.p({width:"125rpx",height:"140rpx",fit:"fill",src:"https://www.xzxskj.com"+o.imgs}),c:e.t(o.xhname),d:e.t(o.num),e:e.t(o.price),f:o.id,g:"box-"+o.xlid+"-"+o.id,h:e.o((a=>{return i="/pagesProduct/product/product?id="+o.xhid+"&title="+o.xhname,void e.index.navigateTo({url:i});var i}),o.id)}))),k:e.sr(h,"3e2e93e5-3",{k:"paging"}),l:e.o(S),m:e.o((o=>e.isRef(A)?A.value=o:null)),n:e.p({"show-refresher-update-time":!0,"default-page-size":20,fixed:!1,modelValue:e.unref(A)})})}},t=e._export_sfc(n,[["__scopeId","data-v-3e2e93e5"]]);n.__runtimeHooks=6,exports.MiniProgramPage=t;
