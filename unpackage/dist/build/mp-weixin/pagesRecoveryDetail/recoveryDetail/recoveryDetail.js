"use strict";const e=require("../../common/vendor.js"),a=require("../../common/assets.js"),l=require("../../utils/system.js"),n=require("../../utils/common.js"),o=require("../../api/recovery/recovery.js"),u=require("../../utils/wxMapAPI.js");if(!Array){(e.resolveComponent("uv-alert")+e.resolveComponent("uv-scroll-list")+e.resolveComponent("van-swipe-cell")+e.resolveComponent("z-paging")+e.resolveComponent("uni-popup"))()}const s=()=>"../../uni_modules/uni-popup/components/uni-popup/uni-popup.js";Math||((()=>"../../uni_modules/uv-alert/components/uv-alert/uv-alert.js")+(()=>"../../uni_modules/uv-scroll-list/components/uv-scroll-list/uv-scroll-list.js")+(()=>"../../uni_modules/z-paging/components/z-paging/z-paging.js")+e.unref(r)+s+e.unref(t)+e.unref(p)+e.unref(c)+e.unref(i)+e.unref(v)+e.unref(m))();const r=()=>"./components/edit-pannel.js",t=()=>"./components/tips-pannel.js",p=()=>"./components/log-pannel.js",c=()=>"./components/batch-pannel.js",i=()=>"./components/tap-edit.js",v=()=>"./components/service-pannel.js",m=()=>"./components/joinUs-pannel.js",f={__name:"recoveryDetail",setup(s){const r=e.ref("https://www.xzxskj.com/logo/logo.jpg"),t=e.ref(null),p=e.ref(!0),c=e.ref(),i=e.ref("回收报价"),v=e.ref(""),m=e.ref(null),f=e.ref(null),d=e.ref(!1),g=e.ref(null),b=e.ref(!1),x=e.ref(null),h=e.ref(!1),k=e.ref(null),w=e.ref(!1),j=e.ref(null),y=e.ref(!1);e.ref({}),n.useShare({title:"自定义分享标题",path:getCurrentPages().pop().route,desc:"自定义分享描述"});const P=()=>{console.log("Popup is closed"),f.value.close(),g.value.close(),x.value.close(),k.value.close(),j.value.close(),m.value.close(),t.value.close()},_=e=>{e.show||(d.value=e.show,b.value=e.show,h.value=e.show,w.value=e.show,y.value=e.show)},z=()=>{w.value=!0,k.value.open()},q=()=>{y.value=!0,j.value.open()},S=e.ref([]),C=e.computed((()=>p.value?"900rpx":"1200rpx")),L=e.computed((()=>{const e=S.value.some((e=>"保修"===e.name));return console.log("show1",e.value),S.value.some((e=>"保修"===e.name))})),D=e.ref(null),A=e.ref([]),B=async(e,a)=>{console.log("pageNo:",e),console.log("pageSize:",a),await T(),D.value.complete(M.value),0===M.value.length&&m.value.open()},R=e.ref([{text:"导航",img:"https://www.xzxskj.com/xcximg/icon_daohang@3x.png"},{text:"微信",img:"https://www.xzxskj.com/xcximg/icon_weixin@3x.png"},{text:"拨打",img:"https://www.xzxskj.com/xcximg/icon_tel@3x.png"}]),H=e.ref(),I=e.ref([]),M=e.ref([]),E=e.ref([]),N=e.ref([]),U=e.ref(null),F=e.ref({xhid:"",ppid:"",nc:"",bb:"",wl:"",ys:"",bx:"",start:"",delivery:e.index.getStorageSync("locationForm").fullLocation.split(" ").join(",")}),T=async()=>{const e=await o.apiRecoveryList(F.value);200===e.code&&(I.value=e.bblist,M.value=e.djlist,E.value=e.nclist,N.value=e.yslist,U.value=e.hssinfos,U.value&&(r.value="https://www.xzxskj.com"+U.value.imgs),0===S.value.length&&("1"===F.value.ppid?S.value=[{name:"内存",values:E.value.map((e=>e.name))},{name:"版本",values:I.value.map((e=>e.name))},{name:"保修",values:["过保","有保"]},{name:"网络",values:["全网通"]},{name:"颜色",values:N.value.map((e=>e.name))}]:S.value=[{name:"内存",values:E.value.map((e=>e.name))},{name:"版本",values:I.value.map((e=>e.name))},{name:"网络",values:["全网通"]},{name:"颜色",values:N.value.map((e=>e.name))}],""===I.value[0].name&&S.value.splice(1,1),H.value||(H.value=S.value.map((()=>0)),S.value.forEach(((e,a)=>{"内存"===e.name&&(F.value.nc=e.values[0]),"版本"===e.name&&(F.value.bb=e.values[0]),"网络"===e.name&&(F.value.wl=e.values[0]),"颜色"===e.name&&(F.value.ys=e.values[0]),"保修"===e.name&&(F.value.bx=e.values[0])}))))),console.log("Recovery list:",e)},V=()=>{e.index.navigateBack()};return e.index.$on("recoveryDetailRefresh",(()=>{D.value.reload()})),e.onLoad((a=>{console.log("options:",a),a.id&&(F.value.xhid=a.id,F.value.ppid=a.ppid,v.value=a.flid,i.value=a.name);let l=e.index.getStorageSync("selectedMine"),n=e.index.getStorageSync("identityData");l&&n&&"0"===n[l].gsid||(p.value=!1)})),(n,o)=>e.e({a:e.unref(l.getStatusBarHeight)()+"px",b:e.o(V),c:e.t(e.unref(i)),d:e.o(V),e:e.unref(l.getTitleBarHeight)()+"px",f:e.unref(l.getLeftIconLeft)()+"px",g:e.unref(S).length>0},e.unref(S).length>0?e.e({h:L.value},L.value?{i:e.p({type:"warning",description:"提示:保修-有保大于40天",closable:!0})}:{},{j:e.f(e.unref(S),((a,l,n)=>({a:e.t(a.name),b:e.f(a.values,((a,n,o)=>({a:e.t(a),b:e.o((e=>((e,a)=>{H.value[e]=a,"内存"===S.value[e].name&&(F.value.nc=S.value[e].values[a]),"版本"===S.value[e].name&&(F.value.bb=S.value[e].values[a]),"保修"===S.value[e].name&&(F.value.bx=S.value[e].values[a]),"网络"===S.value[e].name&&(F.value.wl=S.value[e].values[a]),"颜色"===S.value[e].name&&(F.value.ys=S.value[e].values[a]),D.value.reload()})(l,n)),n),c:e.unref(H)[l]===n?1:"",d:n}))),c:"e9eb3208-1-"+n,d:l}))),k:e.p({indicator:!1})}):{},{l:e.unref(A).length>0},(e.unref(A).length,{}),{m:e.f(e.unref(A),((a,l,n)=>({a:e.t(a.djname),b:e.f(a.djbq.split(",").slice(1,-1),((a,l,n)=>({a:e.t(a)}))),c:l,d:e.t(a.price),e:e.o((e=>(e=>{c.value=e,b.value=!0,g.value.open()})(a)),l),f:e.t(a.djms),g:e.o((e=>(e=>{c.value=e,h.value=!0,x.value.open()})(a)),l),h:e.o((e=>(e=>{c.value=e,d.value=!0,f.value.open()})(a)),l),i:"e9eb3208-3-"+n+",e9eb3208-2",j:l}))),n:e.p({rightWidth:"118",disabled:!e.unref(p)}),o:e.unref(U)},e.unref(U)?{p:e.t(e.unref(U).adders),q:a._imports_0$4,r:e.f(e.unref(R),((a,l,n)=>({a:a.img,b:e.o((l=>{return"微信"===(n=a.text)&&t.value.open(),"拨打"===n&&e.index.makePhoneCall({phoneNumber:U.value.hskfdh}),void("导航"===n&&e.index.getLocation({type:"gcj02",success:async function(a){a.latitude,a.longitude;const l=await u.getLocationByAddress(U.value.adders);console.log("address res:",l),e.index.openLocation({latitude:l.latitude,longitude:l.longitude,name:U.value.shopname,address:U.value.adders,success:function(){console.log("success")}})}}));var n}),l),c:e.t(a.text),d:l})))}:{},{s:e.sr(D,"e9eb3208-2",{k:"paging"}),t:e.o(B),v:e.o((a=>e.isRef(A)?A.value=a:null)),w:e.p({"show-refresher-update-time":!0,fixed:!1,modelValue:e.unref(A)}),x:e.unref(d)},e.unref(d)?{y:e.o(P),z:e.p({selectData:e.unref(c)})}:{},{A:e.sr(f,"e9eb3208-4",{k:"editPannelPopup"}),B:e.o(P),C:e.o(_),D:e.p({"background-color":"rgba(0,0,0,0)","is-mask-click":!0,"safe-area":!1,type:"bottom"}),E:e.unref(b)},e.unref(b)?{F:e.o(P),G:e.p({selectData:e.unref(c)})}:{},{H:e.sr(g,"e9eb3208-6",{k:"tipsPannelPopup"}),I:e.o(P),J:e.o(_),K:e.p({"background-color":"rgba(0,0,0,0)","is-mask-click":!0,"safe-area":!1,type:"bottom"}),L:e.unref(h)},e.unref(h)?{M:e.o(P),N:e.p({selectData:e.unref(c)})}:{},{O:e.sr(x,"e9eb3208-8",{k:"logPannelPopup"}),P:e.o(P),Q:e.o(_),R:e.p({"background-color":"rgba(0,0,0,0)","is-mask-click":!0,"safe-area":!1,type:"bottom"}),S:e.unref(w)},e.unref(w)?{T:e.o(P),U:e.p({param:e.unref(F),selectData:e.unref(c)})}:{},{V:e.sr(k,"e9eb3208-10",{k:"batchPannelPopup"}),W:e.o(P),X:e.o(_),Y:e.p({"background-color":"rgba(0,0,0,0)","is-mask-click":!0,"safe-area":!1,type:"bottom"}),Z:e.unref(y)},e.unref(y)?{aa:e.o(P),ab:e.p({name:e.unref(i),flid:e.unref(v),ppid:e.unref(F).ppid})}:{},{ac:e.sr(j,"e9eb3208-12",{k:"tapEditPannelPopup"}),ad:e.o(P),ae:e.o(_),af:e.p({"background-color":"rgba(0,0,0,0)","is-mask-click":!1,"safe-area":!1,type:"bottom"}),ag:e.o(P),ah:e.sr(m,"e9eb3208-14",{k:"servicePannelPopup"}),ai:e.o(P),aj:e.o(_),ak:e.p({"background-color":"rgba(0,0,0,0)","is-mask-click":!1,"safe-area":!1,type:"center"}),al:e.p({qrCodeUrl:e.unref(r)}),am:e.sr(t,"e9eb3208-16",{k:"officialAccountPopup"}),an:e.o(P),ao:e.o(n.change),ap:e.p({"background-color":"rgba(0,0,0,0)","is-mask-click":!0,"safe-area":!1,type:"center"}),aq:C.value,ar:e.unref(p)},e.unref(p)?{as:e.o(q),at:e.o(z)}:{})}},d=e._export_sfc(f,[["__scopeId","data-v-e9eb3208"]]);f.__runtimeHooks=6,wx.createPage(d);
