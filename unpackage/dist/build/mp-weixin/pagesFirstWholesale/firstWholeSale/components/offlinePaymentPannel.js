"use strict";const e=require("../../../common/vendor.js"),i=require("../../../utils/common.js");if(require("../../../stores/tokenStore.js"),require("../../../stores/userInfoStore.js"),!Array){e.resolveComponent("van-uploader")()}const t={__name:"offlinePaymentPannel",props:{ddxx:{type:Array,default:[]},ddid:{type:String,default:""},totalPrice:{type:String,default:""}},emits:["reload"],setup(t,{emit:a}){const o=a,l=t,s=e.ref([{name:"支付宝",id:"2",selected:!0,img:"https://www.xzxskj.com/xcximg/icon_zhifubao@3x.png"},{name:"微信",id:"1",selected:!1,img:"https://www.xzxskj.com/xcximg/icon_weixin@3x.png"},{name:"收款码",id:"3",selected:!1,img:"https://www.xzxskj.com/xcximg/icon_qita@3x.png"},{name:"银行卡",id:"4",selected:!1,img:"https://www.xzxskj.com/xcximg/icon_card@3x.png"},{name:"现金",id:"5",selected:!1,img:"https://www.xzxskj.com/xcximg/icon_xianjin@3x.png"},{name:"其他",id:"6",selected:!1,img:"https://www.xzxskj.com/xcximg/icon_qita@3x.png"}]),d=e.ref(parseFloat(l.totalPrice)||0),n=e.ref(""),c=e.ref(s.value.find((e=>e.selected))||s.value[0]),r=()=>{console.log("选中的支付方式:",c.value),p()},m=e.ref([]),u={fileList:m},x=(e,t)=>{i.uploadFiles(e,t,u)},p=async i=>{if(console.log("props.ddid",l.ddid),d.value<=0)return void e.index.showToast({title:"金额必须大于0",icon:"none",duration:2e3});const t={zffs:c.value.id,skremarks:n.value,imgs:m.value.map((e=>e.url)).join(","),price:d.value,ddid:l.ddid};o("reload",t)};return(t,a)=>({a:e.o((e=>t.$emit("close"))),b:d.value,c:e.o((e=>d.value=e.detail.value)),d:c.value.img,e:e.t(c.value.name),f:e.f(s.value,((i,t,a)=>e.e({a:i.img,b:e.t(i.name),c:i.selected},(i.selected,{}),{d:e.o((e=>(e=>{s.value.forEach(((i,t)=>{i.selected=t===e})),c.value=s.value[e]})(t)),t),e:t}))),g:n.value,h:e.o((e=>n.value=e.detail.value)),i:e.o((e=>{return t=e,void i.uploadCheack(t);var t})),j:e.o((e=>((e,t)=>{i.uploadDelete(e,t,u)})(e,"fileList"))),k:e.p({fileList:m.value,accept:"image",maxCount:"3",maxSize:"5242880",previewSize:"162rpx",afterRead:e=>(e=>{x(e,"fileList")})(e)}),l:e.o(r)})}},a=e._export_sfc(t,[["__scopeId","data-v-7c26bfad"]]);wx.createComponent(a);
