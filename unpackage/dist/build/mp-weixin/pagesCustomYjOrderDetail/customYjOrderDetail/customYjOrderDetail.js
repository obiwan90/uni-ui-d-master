"use strict";const e=require("../../common/vendor.js"),t=require("../../api/address/address.js");if(!Array){(e.resolveComponent("custom-header")+e.resolveComponent("uv-count-down")+e.resolveComponent("van-image"))()}Math||((()=>"../../components/custom-header/custom-header.js")+(()=>"../../uni_modules/uv-count-down/components/uv-count-down/uv-count-down.js"))();const n={__name:"customYjOrderDetail",setup(n){const r=e.ref(),o=e.ref([{zt:"2",text:"请在倒计时完成前确认订单,时间结束将默认取消订单"},{zt:"3",text:""},{zt:"4",text:""}]),a=e=>{console.log("getTipText zt:",e);const t=o.value.find((t=>t.zt===e.toString()));return console.log("item:",t),t?t.text:""},u=(e,t)=>{console.log("addTime:",e),console.log("bargainingTimeName:",t);const n=(new Date).getTime();return new Date(1e3*parseInt(e)+3600*parseInt(t)*1e3).getTime()-n},s=e.ref([{zt:"2",text:"等待确认议价"},{zt:"3",text:"议价成功等待发货"},{zt:"4",text:"议价失败"}]),i=e=>{console.log("zt:",e);const t=s.value.find((t=>t.zt===e.toString()));return t?t.text:""};e.ref([{zt:"2",btns:[]},{zt:"3",btns:[{text:"联系客服",image:"https://www.xzxskj.com/xcximg/icon_kefu@3x.png"},{text:"催发货",image:"https://www.xzxskj.com/xcximg/icon_cuifahuo@3x.png"}]},{zt:"4",btns:[]}]);const f=e.ref(),c=e.ref([{name:"订单号",value:"NO.202303281234",image:"https://www.xzxskj.com/xcximg/icon_copy@3x.png",zt:["2","3","4"]},{name:"议价时间",value:"",image:"",zt:["2","3","4"]},{name:"议价成功",value:"",image:"",zt:["3"]},{name:"议价失败",value:"2024-03-12 15:00:00",image:"",zt:["4"]}]);return e.onMounted((()=>{console.log("onMounted success");const n=e.index.getStorageSync("orderDetailItem");n&&(r.value=JSON.parse(n),console.log("orderInfo.value：",r.value),c.value[0].value="NO."+r.value.ordernumber,c.value[1].value=(e=>{const t=new Date(1e3*e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}:${String(t.getSeconds()).padStart(2,"0")}`})(r.value.add_time),(async e=>{const n={id:e},r=await t.apigetAddressDetail(n);f.value=r.info,console.log(r)})(r.value.addressid))})),(t,n)=>{return e.e({a:e.unref(r)},e.unref(r)?e.e({b:e.unref(r)},e.unref(r)?e.e({c:e.t(i(e.unref(r).zt)),d:"2"===e.unref(r).zt},"2"===e.unref(r).zt?{e:e.p({time:u(e.unref(r).pay_time,e.unref(r).bargainingtimename),format:"HH:mm:ss"})}:{}):{},{f:e.unref(r)},e.unref(r)?{g:e.t(a(e.unref(r).zt))}:{},{h:e.unref(r)},e.unref(r)?e.e({i:e.p({width:"190rpx",height:"190rpx",radius:"18rpx",fit:"fill",src:e.unref(r).goodsinfos.cover}),j:e.t(e.unref(r).goodsinfos.finenessname),k:e.t(e.unref(r).goodsinfos.name),l:e.t(e.unref(r).goodsinfos.ch),m:e.unref(r).goodsinfos.cgyname},e.unref(r).goodsinfos.cgyname?{n:e.t(e.unref(r).goodsinfos.cgyname)}:{},{o:e.unref(r).goodsinfos.ckame},e.unref(r).goodsinfos.ckame?{p:e.t(e.unref(r).goodsinfos.ckame)}:{},{q:e.t(e.unref(r).price),r:e.t(e.unref(r).goodsinfos.price)}):{},{s:e.t(e.unref(r).price),t:e.o(((...e)=>t.openRule&&t.openRule(...e))),v:"1"!==e.unref(r).lx},(e.unref(r).lx,{}),{w:e.t(e.unref(r).price),x:e.unref(f)},e.unref(f)?{y:e.t(e.unref(f).province),z:e.t(e.unref(f).city),A:e.t(e.unref(f).area),B:e.t(e.unref(f).address),C:e.t(e.unref(f).name),D:e.t(e.unref(f).phone)}:{},{E:e.t(e.unref(r).remarks),F:e.f((o=e.unref(r).zt,c.value.filter((e=>e.zt.includes(o)))),((t,n,r)=>e.e({a:e.t(t.name),b:e.t(t.value),c:t.image},t.image?{d:t.image}:{},{e:n}))),G:"2"===e.unref(r).zt},(e.unref(r).zt,{}),{H:"3"===e.unref(r).zt},(e.unref(r).zt,{})):{});var o}}},r=e._export_sfc(n,[["__scopeId","data-v-bf03eeee"]]);wx.createPage(r);
