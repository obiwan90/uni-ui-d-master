"use strict";const e=require("../../../common/vendor.js"),n=require("../../api/api.js"),i={__name:"bargaining",props:{id:{type:[Number,String],required:!0}},setup(i){const r=i;e.ref(!1);const a=e.ref(),t=()=>{if(!a.value)return void e.index.showToast({title:"请输入议价金额",icon:"none"});if(null===u.value)return void e.index.showToast({title:"请选择议价时长",icon:"none"});let n=e.ref({lx:"",id:"",bargainingtimeid:"",price:""});n.value.lx="1",n.value.id=r.id,n.value.bargainingtimeid=o.value[u.value].id,n.value.price=a.value;let i=encodeURIComponent(JSON.stringify(n.value));e.index.navigateTo({url:"/pagesSubOrder/subOrder/subOrder?data="+i})},u=e.ref(null);e.ref([]);const o=e.ref([]);return e.onMounted((()=>{(async()=>{const e=await n.apiGetBargainingtime();200===e.code&&(o.value=e.lists)})()})),(n,i)=>({a:e.o((e=>n.$emit("close"))),b:e.unref(a),c:e.o((n=>e.isRef(a)?a.value=n.detail.value:null)),d:e.f(e.unref(o),((n,i,r)=>e.e({a:e.t(n.name),b:e.unref(u)===i},(e.unref(u),{}),{c:i,d:e.unref(u)===i?1:"",e:e.o((e=>(e=>{u.value=e})(i)),i)}))),e:e.o(t)})}},r=e._export_sfc(i,[["__scopeId","data-v-3b23b117"]]);wx.createComponent(r);
