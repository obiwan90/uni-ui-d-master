"use strict";const e=require("../../../common/vendor.js"),o=require("../../../api/station/station.js"),t={__name:"staffinfos-warehouse-pannel",emits:["close","confirm"],setup(t,{expose:s,emit:c}){const n=c,i=e.ref([{text:"全部仓库",ckid:"0",selected:!1}]),l=()=>{n("confirm",i.value),n("close")},a=e.ref(""),r=e=>{a.value=e,console.log("ckidString:",e);const o=e.split(",").map((e=>e.trim()));console.log("ckidArray:",o),i.value.forEach((e=>{const t=e.ckid.toString();console.log("Comparing:",t,typeof t,o.includes(t)),e.selected=o.includes(t)})),n("confirm",i.value),console.log("选中的仓库：",i.value)};return s({setSelectedWarehouses:r}),e.onMounted((()=>{(async()=>{const t={opid:e.index.getStorageSync("sessionInfo").opid},s=await o.apiAdminGetStore(t);200===s.code&&(s.lists.forEach((e=>{i.value.push({text:e.name,ckid:e.id,selected:!1})})),e.nextTick$1((()=>{a.value&&r(a.value)})))})()})),(o,t)=>({a:e.o((e=>o.$emit("close"))),b:e.f(i.value,((o,t,s)=>({a:e.t(o.text),b:o.selected?"https://www.xzxskj.com/xcximg/icon_xuanze_sel@3x.png":"https://www.xzxskj.com/xcximg/icon_moren_nor@3x.png",c:t,d:e.o((e=>(e=>{i.value[0].selected=!1,i.value[e].selected=!i.value[e].selected})(t)),t)}))),c:e.o((e=>o.$emit("close"))),d:e.o(l)})}},s=e._export_sfc(t,[["__scopeId","data-v-75bbdb2b"]]);wx.createComponent(s);
