"use strict";const e=require("../../../common/vendor.js"),s=require("../../../api/station/station.js"),o={__name:"messagePannel",emits:["close","messageConfirm"],setup(o,{expose:t,emit:a}){e.ref([]);const n=a,c=e.ref([]),l=()=>{n("messageConfirm",c.value),n("close"),console.log("确定")},i=e.ref([]),r=e.ref(""),u=e=>{r.value=e,console.log("接收消息信息===================="),console.log("staffs:",e),e.split(",").forEach((e=>{const s=c.value.findIndex((s=>s.tsid===e));-1!==s&&(c.value[s].selected=!0)})),console.log("接收消息信息====================",c.value),n("messageConfirm",c.value)};return t({setSelectedStaffs:u}),e.onMounted((()=>{(async()=>{const o={opid:JSON.parse(e.index.getStorageSync("userInfo")).opid},t=await s.apiStationStaffList(o);200===t.code&&(i.value=t.tslists,console.log("workerData:",i.value),t.tslists.forEach(((e,s)=>{c.value.push({text:e.name,tsid:e.id,selected:!1})})),e.nextTick$1((()=>{r.value&&u(r.value)})))})()})),(s,o)=>({a:e.o((e=>s.$emit("close"))),b:e.f(e.unref(c),((s,o,t)=>({a:e.t(s.text),b:s.selected?"https://www.xzxskj.com/xcximg/icon_xuanze_sel@3x.png":"https://www.xzxskj.com/xcximg/icon_moren_nor@3x.png",c:o,d:e.o((e=>(e=>{c.value[e].selected=!c.value[e].selected})(o)),o)}))),c:e.o((e=>s.$emit("close"))),d:e.o(l)})}},t=e._export_sfc(o,[["__scopeId","data-v-2cb6c381"]]);wx.createComponent(t);
