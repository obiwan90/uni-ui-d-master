"use strict";const e=require("../../../common/vendor.js"),t=require("../../../api/station/station.js"),o={__name:"staffPannel",props:{title:{type:String,default:()=>""}},emits:["close","staffConfirm1","staffConfirm2"],setup(o,{expose:s,emit:a}){const l=o;e.ref([]);const n=a,c=e.ref([{text:"全部员工",ygid:"0",selected:!1}]),i=()=>{"配置员工"===l.title&&n("staffConfirm1",c.value),"消息推送"===l.title&&n("staffConfirm2",c.value),n("close"),console.log("确定")},f=e.ref([]),r=e.ref(""),d=e=>{r.value=e,console.log("接收选中员工===================="),console.log("staffs:",e),e.split(",").forEach((e=>{const t=c.value.findIndex((t=>t.ygid===e));-1!==t&&(c.value[t].selected=!0)})),console.log("接收选中员工====================",c.value),n("staffConfirm1",c.value)};return s({setSelectedStaffs:d}),e.onMounted((()=>{(async()=>{const o={opid:JSON.parse(e.index.getStorageSync("userInfo")).opid},s=await t.apiStationStaffList(o);200===s.code&&(f.value=s.yglist,console.log("workerData:",f.value),s.yglist.forEach(((e,t)=>{c.value.push({text:e.username,ygid:e.id,selected:!1})})),e.nextTick$1((()=>{r.value&&d(r.value)})))})()})),(t,s)=>({a:e.t(o.title),b:e.o((e=>t.$emit("close"))),c:e.f(e.unref(c),((t,o,s)=>({a:e.t(t.text),b:t.selected?"https://www.xzxskj.com/xcximg/icon_xuanze_sel@3x.png":"https://www.xzxskj.com/xcximg/icon_moren_nor@3x.png",c:o,d:e.o((e=>(e=>{c.value[e].selected=!c.value[e].selected})(o)),o)}))),d:e.o((e=>t.$emit("close"))),e:e.o(i)})}},s=e._export_sfc(o,[["__scopeId","data-v-d922d835"]]);wx.createComponent(s);
