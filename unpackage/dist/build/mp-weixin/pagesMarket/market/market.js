"use strict";const e=require("../../common/vendor.js"),t=require("../api/api.js"),o=require("../../utils/system.js");if(require("../../stores/locationStore.js"),!Array){(e.resolveComponent("z-paging")+e.resolveComponent("uni-popup"))()}const n=()=>"../../uni_modules/uni-popup/components/uni-popup/uni-popup.js";Math||((()=>"../../uni_modules/z-paging/components/z-paging/z-paging.js")+e.unref(a)+n+e.unref(i))();const a=()=>"./components/settingPannel.js",i=()=>"./components/saixuanPannel.js",r={__name:"market",setup(n){const a=e.ref(null),i=e.ref([]),r=async(e,t)=>{console.log("pageNo:",e),console.log("pageSize:",t),await b(),a.value.complete(k.value)},s=e.ref(!1),l=e.ref(!1);e.ref([{type:1,name:"压缩",time:"2小时前",price:"14120",title:"华为Mate 60 Pro 12GB+512GB 雅丹黑华为Mate 60 Pro 12GB+512GB 雅丹黑",Images:2},{type:2,name:"压缩",time:"2小时前",price:"",title:"华为Mate 60 Pro 12GB+512GB 雅丹黑华为",Images:3},{type:3,name:"压缩",time:"2小时前",price:"",title:"华为Mate 60 Pro 12GB+512GB 雅丹黑华为",Images:1},{type:2,name:"压缩",time:"2小时前",price:"",title:"华为Mate 60 Pro 12GB+512GB 雅丹黑华为",Images:2},{type:2,name:"压缩",time:"2小时前",price:"",title:"华为Mate 60 Pro 12GB+512GB 雅丹黑华为",Images:1},{type:2,name:"压缩",time:"2小时前",price:"",title:"华为Mate 60 Pro 12GB+512GB 雅丹黑华为",Images:3}]);const p=e.ref(null),u=e.ref(null),c=e.ref(!1),g=e.ref({fullLocation:"",province:"",city:"",region:"",address:"",postCode:"",longitude:"",latitude:"",name:""}),f=e=>{const[t,o,n]=e.detail.value,a=e.detail.code;g.value={...g.value,province:t,city:o,region:n,postCode:a,fullLocation:`${o} ${n}`},console.log("form:"+JSON.stringify(g.value))},m=e.computed((()=>"不限"!==g.value.region?g.value.region:"不限"!==g.value.city?g.value.city:"不限"!==g.value.province?g.value.province:"全国")),d=()=>{console.log("Popup is closed"),p.value.close(),u.value.close()},y=e=>{c.value=e.show},v=()=>{s.value=!0,u.value.open()},k=e.ref([]),b=async()=>{const o={opid:e.index.getStorageSync("sessionInfo").opid},n=await t.apigetMarket(o);"200"===n.code&&(k.value=n.lists),console.log("market res:",n)};function B(e){const t=Math.floor(Date.now()/1e3)-e,o=Math.floor(t/3600);return o<1?"刚刚":`${o}小时前`}return(t,n)=>e.e({a:e.unref(o.getStatusBarHeight)()+"px",b:e.unref(o.getTitleBarHeight)()+"px",c:e.unref(o.getLeftIconLeft)()+"px",d:e.unref(m)},e.unref(m)?{e:e.t(e.unref(m))}:{},{f:e.o(f),g:e.unref(m),h:e.o(v),i:e.unref(k)},e.unref(k)?{j:e.f(e.unref(k),((t,o,n)=>e.e({a:e.t(t.username),b:e.t(B(parseInt(t.add_time))),c:1===t.type},(t.type,{}),{d:2===t.type},(t.type,{}),{e:3===t.type},(t.type,{}),{f:e.t(t.fineness),g:1===t.type},1===t.type?{h:e.t(t.price)}:{},{i:2===t.type},(t.type,{}),{j:e.t(t.fullname),k:e.f(t.img.split(",").slice(0,3),((e,t,o)=>({a:e,b:t}))),l:e.o((o=>((t,o)=>{const n=JSON.stringify(o);"1"===t&&e.index.navigateTo({url:`/pagesSell/sell/sell?item=${encodeURIComponent(n)}`}),"2"===t&&e.index.navigateTo({url:`/pagesSeeking/seeking/seeking?item=${encodeURIComponent(n)}`})})(t.type,t)),o),m:o})))}:{},{k:e.sr(a,"8048b9b5-0",{k:"paging"}),l:e.o(r),m:e.o((t=>e.isRef(i)?i.value=t:null)),n:e.p({fixed:!1,"loading-more-custom-style":{background:"#f3f2f6"},"default-page-size":10,modelValue:e.unref(i)}),o:e.unref(l)},e.unref(l)?{p:e.o(d)}:{},{q:e.sr(p,"8048b9b5-1",{k:"settingPopup"}),r:e.o(d),s:e.o(y),t:e.p({"background-color":"rgba(0,0,0,0)","is-mask-click":!1,"safe-area:false":!0,type:"center"}),v:e.unref(s)},e.unref(s)?{w:e.o(d)}:{},{x:e.sr(u,"8048b9b5-3",{k:"saixuanPopup"}),y:e.o(d),z:e.o(y),A:e.p({"background-color":"rgba(0,0,0,0)","is-mask-click":!0,"safe-area:false":!0,type:"bottom"})})}},s=e._export_sfc(r,[["__scopeId","data-v-8048b9b5"]]);wx.createPage(s);
