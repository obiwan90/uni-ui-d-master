"use strict";const e=require("../common/vendor.js");require("../stores/tokenStore.js"),require("../stores/userInfoStore.js");const t=["/Home/index/index"];exports.customRequest=function(n,o={},r="POST"){return new Promise((async(s,i)=>{const d=/^https?:\/\//.test(n);if(!t.includes(n)){console.log("request url:",n);const t=e.index.getStorageSync("tokenInfo");o.timeStamp=t.timeStamp,o.randomStr=t.randomStr,o.signature=t.signature,o.adminLx=e.index.getStorageSync("adminLx")?e.index.getStorageSync("adminLx"):"",o.adminId=e.index.getStorageSync("adminId")?e.index.getStorageSync("adminId"):""}e.index.request({url:d?n:"https://www.xzxskj.com"+n,data:o,method:r,header:{"content-type":"application/x-www-form-urlencoded"},success:e=>{200===e.statusCode?s(e.data):i(e)},fail:e=>{i(e)}})}))};
