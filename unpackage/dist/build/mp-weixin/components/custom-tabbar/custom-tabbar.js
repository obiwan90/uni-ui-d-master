"use strict";const e=require("../../common/vendor.js"),t=require("../../stores/tabStore.js");require("../../stores/tokenStore.js");const n=require("../../stores/userInfoStore.js"),a={__name:"custom-tabbar",props:{showShop:{type:Boolean,default:()=>!1}},setup(a){e.computed((()=>n.useUserStore().shopCount));const c=a,o=e.ref(!1);e.ref(100);const s=t.useTabStore(),r=e.computed((()=>s.currentTabIndex)),u=e.ref(!1);e.ref(),e.ref();const p=e.ref([{text:"首页",pagePath:"/pages/home/home",iconPath:"https://www.xzxskj.com/Public/upload/66c97f9990c9331.png",selectedIconPath:"https://www.xzxskj.com/Public/upload/66c97faaa29401777.png",centerItem:!1},{text:c.showShop?"购物车":"保修查询",pagePath:c.showShop?"/pagesShopCar/shopCar/shopCar":"/pagesMaintenance/maintenance/maintenance",iconPath:c.showShop?"https://www.xzxskj.com/xcximg/icon_car@3x.png":"https://www.xzxskj.com/Public/upload/66c97f69bc3108295.png",selectedIconPath:c.showShop?"https://www.xzxskj.com/xcximg/icon_car_sel@3x.png":"https://www.xzxskj.com/Public/upload/66c97f7f3db9e4149.png",centerItem:!1},{text:"",pagePath:"/pagesNewSell/newSell/newSell",iconPath:"https://www.xzxskj.com/Public/upload/66c97f28f01fd9278.png",selectedIconPath:"https://www.xzxskj.com/Public/upload/66c97f28f01fd9278.png",centerItem:!0},{text:"客服",pagePath:"",iconPath:"https://www.xzxskj.com/Public/upload/66cbac6a5c3d5705.png",selectedIconPath:"https://www.xzxskj.com/Public/upload/66cbac57c8a956655.png",centerItem:!1},{text:"我的",pagePath:"",iconPath:"https://www.xzxskj.com/Public/upload/66c97fbc201701617.png",selectedIconPath:"https://www.xzxskj.com/Public/upload/66c97fcbd0dc17793.png",centerItem:!1}]),l=e.ref([{index:0,path:"/pagesUserMine/userMine/userMine"},{index:1,path:"/pagesCustomMine/customMine/customMine"},{index:2,path:"/pagesCustomMine/customMine/customMine"}]);return e.onShow((()=>{o.value=!0})),e.onHide((()=>{o.value=!1})),(t,n)=>({a:e.f(e.unref(p),((n,a,c)=>e.e({a:e.unref(r)===a?n.selectedIconPath:n.iconPath,b:e.t(n.text),c:e.n(e.unref(r)===a?"item-active":""),d:3===a},3===a?{e:e.o(((...e)=>t.onContact&&t.onContact(...e)),a)}:{},{f:e.n(n.centerItem?" center-item":""),g:e.o((t=>(async t=>{if(console.log("onTabClick:",t),u.value)return;u.value=!0;let n=e.index.getStorageSync("selectedMine"),a=e.index.getStorageSync("identityData");if(p.value[4].pagePath=n?a[n].path:l.value[0].path,getCurrentPages(),r.value===t)return void(u.value=!1);if(4===r.value&&0===t)return console.log("从4跳0"),s.setCurrentTabIndex(t),getCurrentPages().length>1?e.index.navigateBack({delta:getCurrentPages().length-1}):(s.setCurrentTabIndex(t),e.index.reLaunch({url:p.value[t].pagePath})),void(u.value=!1);3!==t&&(s.setCurrentTabIndex(t),e.index.navigateTo({url:`${p.value[t].pagePath}?nextPageData=${encodeURIComponent(JSON.stringify(null))}`})),u.value=!1})(a)),a),h:a}))),b:e.s("width: calc(100% /"+e.unref(p).length+")"),c:e.unref(o)?1:""})}},c=e._export_sfc(a,[["__scopeId","data-v-3cec5263"]]);wx.createComponent(c);
