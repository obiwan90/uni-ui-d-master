"use strict";const e=require("../../common/vendor.js"),a=require("../../utils/common.js"),l=require("../api/api.js");if(!Array){(e.resolveComponent("custom-header")+e.resolveComponent("van-dropdown-item")+e.resolveComponent("van-dropdown-menu")+e.resolveComponent("uv-tabs")+e.resolveComponent("van-progress")+e.resolveComponent("z-paging"))()}Math||((()=>"../../components/custom-header/custom-header.js")+(()=>"../../uni_modules/uv-tabs/components/uv-tabs/uv-tabs.js")+(()=>"../../uni_modules/z-paging/components/z-paging/z-paging.js"))();const o={__name:"dataCenterProductData",setup(o){const u=e.ref(["今日","昨日","本月","上月"]),n=e.computed((()=>u.value.filter(((e,a)=>4!==a)))),r=e.ref("时间区间"),t=e.ref(0),v=e.ref("开始时间"),s=e.ref("截止时间"),i=e.ref(),p=e.ref(),f=e=>{console.log(e),v.value=e.detail.value,i.value=a.toBeijingTimestamp(e.detail.value)},d=e=>{console.log(e),s.value=e.detail.value,p.value=a.toBeijingTimestamp(e.detail.value)},c=e.ref(!1),m=e.ref(!1),g=()=>{m.value=!m.value,c.value=!0,t.value=4},x=()=>{m.value=!1,c.value=!1,h.value.reload(!0)},F=()=>{v.value="开始时间",s.value="截止时间",i.value="",p.value=""},h=e.ref(null),b=e.ref([]),C=async(e,a)=>{console.log("pageNo:",e),console.log("pageSize:",a);const l=await W();h.value.complete(l)},y=e.ref([{text:"全部仓库",value:-1}]),z=e.ref([{text:"全部采购",value:-1}]),j=e=>{console.log(e)},w=e=>{console.log(e)},_=e.ref(-1),B=e.ref(-1),I=e.ref([{name:"定价上架",splx:"1"},{name:"成色判断",splx:"2"},{name:"拍照",splx:"3"},{name:"维修检测",splx:"4"},{name:"功能检测",splx:"5"},{name:"商品录入",splx:"6"}]),S=e.ref(0),k=e.ref("1"),E=e=>{S.value=e.index,k.value=I.value[e.index].splx,h.value.reload(!0)},q=e.ref([]),T=e.ref([]),D=e.ref([]),P=e.ref(0),W=async()=>{console.log("selectedIndex:",t.value);const e={lx:t.value+1,splx:k.value,startTime:t.value+1===5?i.value:"",endTime:t.value+1===5?p.value:""},a=await l.apiGoodsData(e);return 1===a.zt?(q.value=a.cgyglist,q.value&&q.value.forEach((e=>{z.value.find((a=>a.value===parseInt(e.id)))||z.value.push({text:e.username,value:parseInt(e.id)}),z.value=[...z.value]})),T.value=a.cklist,T.value&&T.value.forEach((e=>{y.value.find((a=>a.value===parseInt(e.id)))||y.value.push({text:e.name,value:parseInt(e.id)}),y.value=[...y.value]})),D.value=a.userlists,P.value=a.num,console.log("option2",z.value),console.log("option1",y.value),D.value):[]},A=e=>0===P.value?0:(e.num/P.value*100).toFixed(0),G=e.ref();return e.onLoad((e=>{G.value=e.title})),(a,l)=>({a:e.p({backgroundColor:"#FFFFFF"}),b:e.f(e.unref(n),((a,l,o)=>({a:e.t(a),b:e.o((e=>(e=>{t.value=e,m.value=!1,c.value=!1,5!==t.value&&h.value.reload(!0)})(l)),l),c:e.unref(t)===l?1:"",d:l}))),c:e.t(e.unref(r)),d:e.o(g),e:4===e.unref(t)?1:"",f:e.t(e.unref(v)),g:e.o(f),h:e.unref(v),i:e.t(e.unref(s)),j:e.o(d),k:e.unref(s),l:e.o(F),m:e.o(x),n:e.unref(m),o:e.unref(m)?1:"",p:e.o(j),q:e.p({value:e.unref(_),options:e.unref(y),popupStyle:"border-radius: 0 0 20rpx 20rpx;"}),r:e.o(w),s:e.p({value:e.unref(B),options:e.unref(z),popupStyle:"border-radius: 0 0 20rpx 20rpx;"}),t:e.p({zIndex:"20",activeColor:"#EB4636"}),v:e.o(E),w:e.p({list:e.unref(I),lineWidth:"30",lineColor:"linear-gradient( 86deg, #ED784B 0%, #EB4636 100%)",lineHeight:"3",fontSize:28,inactiveStyle:{color:"#1F1F1F",opacity:.6},activeStyle:{color:"#1F1F1F",fontWeight:"bold",fontSize:32,opacity:1},current:e.unref(S)}),x:e.t(e.unref(P)),y:e.f(e.unref(b),((a,l,o)=>({a:e.t(a.name),b:e.t(A(a)),c:"7c60dfb5-6-"+o+",7c60dfb5-5",d:e.p({trackColor:"#F8F8F8",color:"linear-gradient( 90deg, #7EBFFF 0%, #4079FF 100%)",showPivot:!1,percentage:A(a),strokeWidth:"12"}),e:e.t(a.num),f:l}))),z:e.sr(h,"7c60dfb5-5",{k:"paging"}),A:e.o(C),B:e.o((a=>e.isRef(b)?b.value=a:null)),C:e.p({"show-refresher-update-time":!0,fixed:!1,modelValue:e.unref(b)})})}},u=e._export_sfc(o,[["__scopeId","data-v-7c60dfb5"]]);wx.createPage(u);
