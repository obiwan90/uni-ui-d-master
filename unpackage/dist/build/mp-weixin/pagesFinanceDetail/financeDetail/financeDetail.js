"use strict";const e=require("../../common/vendor.js"),t=require("../api/api.js"),a=require("../../utils/system.js"),n={__name:"financeDetail",setup(n){const u=()=>{e.index.navigateBack()},l=e.ref([]),s=e.ref([{text:"收款类型",value:"线下收款"},{text:"收款员工",value:"金克斯"},{text:"收款时间",value:"2024-04-27 14:55:12"},{text:"收款方式",value:"支付宝"}]),i=e.ref([{text:"客户名称",value:"张三"},{text:"联系方式",value:"13100000000"},{text:"配送方式",value:"京东 123456789"},{text:"销售员工",value:"金克斯"},{text:"下单时间",value:"2024-04-27 14:55:12"},{text:"收货时间",value:"2024-04-27 14:55:12"},{text:"下单备注",value:"该商户已用支付宝收款了,该商户已用支付宝收款了，线下收款已到账,线下收款已到账,该商户已用支付宝收款了，线下收款已到账"}]),o=e=>(console.log("item",e),i.value[0].value=e.khname,i.value[1].value=e.khphone,i.value[2].value=e.khphone,i.value[3].value=e.ygname,i.value[4].value=function(e){const t=new Date(1e3*e),a=t.getFullYear(),n=("0"+(t.getMonth()+1)).slice(-2),u=("0"+t.getDate()).slice(-2),l=("0"+t.getHours()).slice(-2),s=("0"+t.getMinutes()).slice(-2),i=("0"+t.getSeconds()).slice(-2);return`${a}-${n}-${u} ${l}:${s}:${i}`}(e.add_time),i.value[5].value=e.sksj,i.value[6].value=e.remarks,i.value);const r=a=>{(async a=>{const n={opid:e.index.getStorageSync("sessionInfo").opid,orderid:a},u=await t.apiFinanceCheck(n);console.log("res:",u),"200"===u.code&&(e.index.showToast({title:"对账成功",icon:"success",duration:500}),setTimeout((()=>{e.index.navigateBack()}),500))})(a)};return e.onLoad((async e=>{if(console.log(e),e.data){const a=e.data;console.log("id",a),await(async e=>{const a={id:e},n=await t.getFinanceDetail(a);"200"===n.code&&(l.value=n.lists)})(a)}})),(t,n)=>{return e.e({a:e.unref(a.getStatusBarHeight)()+"px",b:e.t("1"===e.unref(l)[0].sfdz?"未对账":"已对账"),c:e.o(u),d:e.unref(a.getTitleBarHeight)()+"px",e:e.unref(a.getLeftIconLeft)()+"px",f:e.unref(a.getStatusBarHeight)()+e.unref(a.getTitleBarHeight)()+"px",g:e.f(e.unref(l),((t,a,n)=>({a:e.f(t.goodslist,((t,a,n)=>({a:e.t(t.finenessname),b:e.t(t.name),c:e.t(t.ch),d:e.t(t.cgyname),e:e.t(t.ckname),f:e.t(t.price),g:a}))),b:e.t(t.num),c:e.t(t.price),d:a}))),h:e.f((i=e.unref(l)[0],console.log("item",i),s.value[0].value=i.sklx,s.value[1].value=i.skyg,s.value[2].value=i.sksj,s.value[3].value=i.zffs,s.value),((t,a,n)=>({a:e.t(t.text),b:e.t(t.value),c:a}))),i:e.t(e.unref(l)[0].remarkss),j:e.unref(l)[0].imgs.split(",").length>0},e.unref(l)[0].imgs.split(",").length>0?{k:e.f(e.unref(l)[0].imgs.split(","),((e,t,a)=>({a:t})))}:{},{l:e.f(o(e.unref(l)[0]),((t,a,n)=>({a:e.t(t.text),b:e.t(t.value),c:a}))),m:e.o((t=>r(e.unref(l)[0].id)))});var i}}},u=e._export_sfc(n,[["__scopeId","data-v-72e4e8ff"]]);wx.createPage(u);
